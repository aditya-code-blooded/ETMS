<!DOCTYPE html>
<html>
	<head>
		<title>ETMS</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type="text/javascript">
			function clientSideValidation() {

				var firstName = document.getElementById("firstName").value;
				var lastName = document.getElementById("lastName").value;
				var gender = document.getElementById("gender").value;
				var emailAddress = document.getElementById("emailAddress").value;
				var userName = document.getElementById("userName").value;
				var password = document.getElementById("password").value;
				var retypePassword = document.getElementById("retypePassword").value;

				if(firstName === "" || gender === "" || emailAddress === ""
					|| userName === "" || password === "" || retypePassword === "") {
					console.log("Please fill the entire form");
					return false;
				}

				var namePattern = /^[a-zA-Z]+$/;
				var emailPattern = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
				var userNamePattern = /^[a-z][\w\.]{6,10}$/i; // Atleast 7 characters at max 11 characters, both inclusive
				var errorMessage = "";
				var invalid = false;

				if(!namePattern.test(firstName)) {
					errorMessage += "firstName is INVALID\n";
					invalid = true;
				}
				if(lastName !== "" && !namePattern.test(lastName)) {
					errorMessage += "lastName is INVALID\n";
					invalid = true;
				}
				if(!emailPattern.test(emailAddress)) {
					errorMessage += "emailAddress is INVALID\n";
					invalid = true;
				}
				if(!userNamePattern.test(userName)) {
					errorMessage += "userName is INVALID\n";
					invalid = true;
				}
				if(password !== retypePassword) {
					errorMessage += "passwords DO NOT match\n";
					invalid = true;
				}

				if(invalid) {
					console.log(errorMessage);
					return false;
				}

				return true;

			}
		</script>
	</head>
	<body>
		<form id="signup_form" action="signup_authenticate.php" method="post" onsubmit="return clientSideValidation()">
			
			<label for="firstName">First Name</label>
			<input type="text" name="firstName" id="firstName" /> <br />
			
			<!-- Not mandatory -->
			<label for="lastName">Last Name</label>
			<input type="text" name="lastName" id="lastName" /> <br />
			
			<label for="gender">Gender</label>
			<fieldset id="gender" style="border: 0;">
		        <label for="male">Male</label> <input type="radio" value="male" name="Male">
		        <label for="female">Female</label> <input type="radio" value="female" name="Female">
		    </fieldset>
			
			<label for="emailAddress">Email Address</label>
			<input type="text" name="emailAddress" id="emailAddress" /> <br />
			
			<label for="userName">Choose a Username</label>
			<input type="text" name="userName" id="userName" /> <br />
			
			<label for="password">Password</label>
			<input type="password" name="password" id="password" /> <br />

			<label for="retypePassword">Retype Password</label>
			<input type="password" name="retypePassword" id="retypePassword" /> <br />
			
			<input type="submit" name="signin_button" value="Sign In"> <br />

		</form>
	</body>
</html>